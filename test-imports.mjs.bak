import { pathToFileURL } from 'url';
import path from 'path';

async function testImport() {
  try {
    const filePath = path.join(process.cwd(), 'dist', 'prompts', 'analyze', 'single-file.js');
    console.log('Testing import of:', filePath);
    
    const fileUrl = pathToFileURL(filePath).href;
    console.log('File URL:', fileUrl);
    
    const module = await import(fileUrl);
    console.log('Module loaded:', Object.keys(module));
    
    const PluginClass = module.default;
    console.log('Plugin class:', PluginClass?.name);
    
    if (PluginClass) {
      const plugin = new PluginClass();
      console.log('Plugin instance:', plugin.name);
    }
    
  } catch (error) {
    console.error('Import failed:', error);
  }
}

testImport();
